module.exports = Spigot

var Readable = require("stream").Readable

// v0.8.x compat
if (!Readable) Readable = require("readable-stream/readable")
if (!global.setImmediate) setImmediate = process.nextTick

var util = require("util")

/**
 * Create a spigot -- a Readable stream providing the data you specify.
 *
 * @param {Object} options streams2 options for a Readable stream (optional)
 * @param {Array or Function} source An Array of data to stream one-at-a-time, or a generating function that returns data 