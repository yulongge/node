# StreamSpec

`stream-spec` is a executable specification for Stream.
it's purpose it to make it easy to test user-land streams have correct behavour.

[illustrated](https://github.com/dominictarr/stream-spec/blob/master/states.markdown)
[explained](https://github.com/dominictarr/stream-spec/blob/master/stream_spec.md)


``` js
var spec = require('stream-spec')
spec(stream)
  .readableWritable({error: false})
  .pausable()
  .validateOnExit()

stream.write('data')
//...
```

## types of `Stream`

### Writable (but not readable)

a `WritableStream` must implement `write`, `end`, `destroy` and emit `'drain'` if it pauses,
and `'close'` after the stream ends, or is destroyed.

If the stream is sync (does no io) it probably does not need to pause, so the `write()` should never equal `false`

``` js
spec(stream)
  .writable()
  .drainable()
  .validateOnExit()
```

### Readable (but not writable)

a `ReadableStream` must emit `'data'`, `'end'`, and implement `destroy`,
and `'close'` after the stream ends, or is destroyed.
is strongly recommended to implement `pause` and `resume`

If the option `{strict: true}` is passed, it means the stream is not allowed to emit
`'data'` or `'end'` when the stream is paused.

``` js
spec(stream)
  .readable()
  .pausable({strict: true})) //strict is optional.
  .validateOnExit()

```

### Through (sync writable and readable, aka: 'filter')

A `Stream` that is both readable and writable, and where the input is processed and then emitted as output, more or less directly. 
Example, [z